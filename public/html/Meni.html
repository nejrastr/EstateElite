<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Meni</title>
</head>

<body>
    <div class="meni">
        <div class="container">
            <ul class="primary-nav">
                {{#if isLogged}}
                <li><a  id="profilLink" href="/profil.html"><strong>Profil</strong></a></li>
                <li><a href="/nekretnina.html"><strong>Nekretnine</strong></a></li>
                <li><a href="/detalji.html"><strong>Detalji</strong></a></li>
                <li>
                    <form action="/logout" method="post">
                        <button type="submit"><strong>Odjava</strong></button>
                    </form>
                </li>
                {{else}}
                <li><a href="/nekretnina.html"><strong>Nekretnine</strong></a></li>
                <li><a href="/detalji.html"><strong>Detalji</strong></a></li>
                <li><a href="/prijava.html"><strong>Prijava</strong></a></li>
                {{/if}}
            </ul>
        </div>
    </div>
   
    <script>
       
      
        fetch('/isLogged')
            .then(response => response.json())
            .then(data => {
                const isLogged = data.isLogged;
                const navList = document.querySelector('.primary-nav');

                while (navList.firstChild) {
                    navList.removeChild(navList.firstChild);
                }

                if (isLogged) {
                    const menuContainer = document.createElement('li');
                    menuContainer.innerHTML = `
                       <a id="profilLink" href="/profil.html"><strong>Profil</strong></a>
                        <a href="/nekretnina.html"><strong>Nekretnine</strong></a>
                        <a href="/detalji.html"><strong>Detalji</strong></a>
                       <form action="/logout" method="post">
                            <button type="submit"><strong>Odjava</strong></button>
                        </form>`;
                        
                    navList.appendChild(menuContainer);
                   
                   

                } else {
                    const menuItems = [
                        '<li><a href="/nekretnina.html"><strong>Nekretnine</strong></a></li>',
                        '<li><a href="/detalji.html"><strong>Detalji</strong></a></li>',
                        '<li><a href="/prijava.html"><strong>Prijava</strong></a></li>'
                    ];
                    navList.innerHTML = menuItems.join('');
                }
            });
    </script>
  <script src="/js/PoziviAjax.js"></script>
</body>

</html>
